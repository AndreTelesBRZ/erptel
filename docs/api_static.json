{
  "openapi": "3.0.0",
  "info": {
    "title": "FastAPI (erp_api) - Static Routes",
    "version": "static",
    "description": "Static export from repo paths erp_api/__init__.py and erp_api/clientes.py. This file is not generated by FastAPI; it is a manually curated snapshot with example headers."
  },
  "servers": [
    {
      "url": "https://apiforce.edsondosparafusos.app.br",
      "description": "FastAPI Edson dos Parafusos (porta 9000 via Nginx)"
    },
    {
      "url": "https://apiforce.llfix.app.br",
      "description": "FastAPI LLFix (porta 9100 via Nginx)"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      },
      "appToken": {
        "type": "apiKey",
        "in": "header",
        "name": "X-App-Token"
      }
    },
    "examples": {
      "authHeaders": {
        "summary": "Auth headers (either JWT or App Token)",
        "value": {
          "Authorization": "Bearer <JWT emitido pelo FastAPI>",
          "X-App-Token": "<APP_INTEGRATION_TOKEN>"
        }
      },
      "tenantHeaders": {
        "summary": "Tenant headers (optional when using ?loja=)",
        "value": {
          "X-Loja-Codigo": "000003"
        }
      }
    }
  },
  "paths": {
    "/api/produtos-sync": {
      "get": {
        "tags": ["produtos"],
        "summary": "Listar produtos (sync)",
        "parameters": [
          {"name": "q", "in": "query", "schema": {"type": "string"}},
          {"name": "codigo", "in": "query", "schema": {"type": "string"}},
          {"name": "plu", "in": "query", "schema": {"type": "string"}},
          {"name": "ean", "in": "query", "schema": {"type": "string"}},
          {"name": "loja", "in": "query", "schema": {"type": "string"}, "example": "000003"}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/produtos-sync/{codigo}": {
      "get": {
        "tags": ["produtos"],
        "summary": "Produto por código (sync)",
        "parameters": [
          {"name": "codigo", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}, "404": {"description": "Produto não encontrado"}}
      }
    },
    "/api/produtos": {
      "get": {
        "tags": ["produtos"],
        "summary": "Alias de /api/produtos-sync",
        "parameters": [
          {"name": "q", "in": "query", "schema": {"type": "string"}},
          {"name": "codigo", "in": "query", "schema": {"type": "string"}},
          {"name": "plu", "in": "query", "schema": {"type": "string"}},
          {"name": "ean", "in": "query", "schema": {"type": "string"}},
          {"name": "loja", "in": "query", "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/produtos/{codigo}": {
      "get": {
        "tags": ["produtos"],
        "summary": "Produto por código/PLU",
        "parameters": [
          {"name": "codigo", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}, "404": {"description": "Produto não encontrado"}}
      }
    },
    "/api/produtos/search": {
      "get": {
        "tags": ["produtos"],
        "summary": "Buscar produto por descrição",
        "parameters": [
          {"name": "q", "in": "query", "required": true, "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/products": {
      "get": {
        "tags": ["produtos"],
        "summary": "Listar produtos (legacy products)",
        "parameters": [
          {"name": "vendedor_id", "in": "query", "schema": {"type": "string"}},
          {"name": "limit", "in": "query", "schema": {"type": "integer"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/products/{plu}": {
      "get": {
        "tags": ["produtos"],
        "summary": "Produto por PLU (legacy products)",
        "parameters": [
          {"name": "plu", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}, "404": {"description": "Produto não encontrado"}}
      }
    },
    "/api/products/search": {
      "get": {
        "tags": ["produtos"],
        "summary": "Buscar produto (legacy products)",
        "parameters": [
          {"name": "q", "in": "query", "required": true, "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/products/sync": {
      "post": {
        "tags": ["produtos"],
        "summary": "Sincronizar produtos",
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": [
                {
                  "codigo": "000001",
                  "descricao_completa": "Produto Exemplo",
                  "referencia": "REF-001",
                  "secao": "A",
                  "grupo": "G1",
                  "subgrupo": "SG1",
                  "unidade": "UN",
                  "ean": "7890000000000",
                  "plu": "12345",
                  "preco_normal": 10.5,
                  "preco_promocao1": 9.9,
                  "preco_promocao2": 8.9,
                  "estoque_disponivel": 5,
                  "custo": 7.0,
                  "loja": "000003",
                  "row_hash": "..."
                }
              ]
            }
          }
        },
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/clientes": {
      "get": {
        "tags": ["clientes"],
        "summary": "Listar clientes (paginado)",
        "parameters": [
          {"name": "vendedor_id", "in": "query", "schema": {"type": "string"}},
          {"name": "cod_vendedor", "in": "query", "schema": {"type": "string"}},
          {"name": "limit", "in": "query", "schema": {"type": "integer"}},
          {"name": "page", "in": "query", "schema": {"type": "integer"}},
          {"name": "page_size", "in": "query", "schema": {"type": "integer"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/clientes/lista": {
      "get": {
        "tags": ["clientes"],
        "summary": "Listar clientes (sem paginação)",
        "parameters": [
          {"name": "vendedor_id", "in": "query", "schema": {"type": "string"}},
          {"name": "cod_vendedor", "in": "query", "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/clientes/{cliente_codigo}": {
      "get": {
        "tags": ["clientes"],
        "summary": "Cliente por código",
        "parameters": [
          {"name": "cliente_codigo", "in": "path", "required": true, "schema": {"type": "string"}},
          {"name": "vendedor_id", "in": "query", "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}, "404": {"description": "Cliente não encontrado"}}
      }
    },
    "/api/clientes/search": {
      "get": {
        "tags": ["clientes"],
        "summary": "Buscar clientes",
        "parameters": [
          {"name": "q", "in": "query", "required": true, "schema": {"type": "string"}},
          {"name": "vendedor_id", "in": "query", "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/clientes/sync": {
      "post": {
        "tags": ["clientes"],
        "summary": "Sincronizar clientes",
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": [
                {
                  "cliente_codigo": "000182",
                  "cliente_razao_social": "Cliente Exemplo",
                  "cliente_cnpj_cpf": "00000000000000",
                  "vendedor_codigo": "000036",
                  "loja_codigo": "000003"
                }
              ]
            }
          }
        },
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/inadimplencia": {
      "get": {
        "tags": ["inadimplencia"],
        "summary": "Listar inadimplência",
        "parameters": [
          {"name": "cod_loja", "in": "query", "schema": {"type": "string"}},
          {"name": "cod_cliente", "in": "query", "schema": {"type": "string"}},
          {"name": "cod_vendedor", "in": "query", "schema": {"type": "string"}},
          {"name": "vencido", "in": "query", "schema": {"type": "boolean"}},
          {"name": "limit", "in": "query", "schema": {"type": "integer"}}
        ],
        "security": [{"bearerAuth": []}, {"appToken": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/planos-pagamento-cliente": {
      "get": {
        "tags": ["planos_pagamento"],
        "summary": "Planos de pagamento por cliente",
        "parameters": [
          {"name": "cliente_codigo", "in": "query", "required": true, "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/planos-pagamento-cliente/{cliente_codigo}": {
      "get": {
        "tags": ["planos_pagamento"],
        "summary": "Planos de pagamento por cliente (path)",
        "parameters": [
          {"name": "cliente_codigo", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/planos-pagamento-clientes/sync": {
      "post": {
        "tags": ["planos_pagamento"],
        "summary": "Sync planos (desativado)",
        "security": [{"bearerAuth": []}],
        "responses": {"410": {"description": "Desativado"}}
      }
    },
    "/api/lojas": {
      "get": {
        "tags": ["lojas"],
        "summary": "Listar lojas",
        "parameters": [
          {"name": "q", "in": "query", "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/lojas/{loja_codigo}": {
      "get": {
        "tags": ["lojas"],
        "summary": "Detalhar loja",
        "parameters": [
          {"name": "loja_codigo", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}, "404": {"description": "Loja não encontrada"}}
      }
    },
    "/api/lojas/sync": {
      "post": {
        "tags": ["lojas"],
        "summary": "Sync lojas",
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/auth/login": {
      "post": {
        "tags": ["auth"],
        "summary": "Login (auth router)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {"username": "usuario", "password": "senha"}
            }
          }
        },
        "responses": {"200": {"description": "OK"}, "401": {"description": "Credenciais inválidas"}}
      }
    },
    "/api/login": {
      "post": {
        "tags": ["auth"],
        "summary": "Login (alias)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {"username": "usuario", "password": "senha"}
            }
          }
        },
        "responses": {"200": {"description": "OK"}, "401": {"description": "Credenciais inválidas"}}
      }
    },
    "/api/me": {
      "get": {
        "tags": ["auth"],
        "summary": "Informações do usuário logado",
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/auth/users": {
      "post": {
        "tags": ["auth"],
        "summary": "Criar usuário (admin)",
        "security": [{"bearerAuth": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "username": "novo.usuario",
                "password": "senha-forte",
                "vendor_code": "000036",
                "is_active": true
              }
            }
          }
        },
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/imagens/upload": {
      "post": {
        "tags": ["imagens"],
        "summary": "Upload de imagens (desativado)",
        "security": [{"bearerAuth": []}],
        "responses": {"503": {"description": "Desativado"}}
      }
    },
    "/api/imagens/{tipo}/{codigo}": {
      "get": {
        "tags": ["imagens"],
        "summary": "Resolver URL da imagem",
        "parameters": [
          {"name": "tipo", "in": "path", "required": true, "schema": {"type": "string"}},
          {"name": "codigo", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/pedidos": {
      "post": {
        "tags": ["pedidos"],
        "summary": "Criar pedido",
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      },
      "get": {
        "tags": ["pedidos"],
        "summary": "Listar pedidos",
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/pedidos/{pedido_id}": {
      "get": {
        "tags": ["pedidos"],
        "summary": "Detalhar pedido",
        "parameters": [
          {"name": "pedido_id", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/pedidos-venda": {
      "post": {
        "tags": ["pedidos"],
        "summary": "Criar pedido de venda",
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      },
      "get": {
        "tags": ["pedidos"],
        "summary": "Listar pedidos de venda",
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/pedidos-venda/{pedido_id}": {
      "get": {
        "tags": ["pedidos"],
        "summary": "Detalhar pedido de venda",
        "parameters": [
          {"name": "pedido_id", "in": "path", "required": true, "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/sefaz/config": {
      "get": {
        "tags": ["sefaz"],
        "summary": "Get config SEFAZ",
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      },
      "put": {
        "tags": ["sefaz"],
        "summary": "Update config SEFAZ",
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      },
      "patch": {
        "tags": ["sefaz"],
        "summary": "Patch config SEFAZ",
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/api/companies/{pk}/nfe": {
      "get": {
        "tags": ["sefaz"],
        "summary": "Consultar NFe",
        "parameters": [
          {"name": "pk", "in": "path", "required": true, "schema": {"type": "integer"}},
          {"name": "last_nsu", "in": "query", "schema": {"type": "string"}},
          {"name": "nsu", "in": "query", "schema": {"type": "string"}},
          {"name": "access_key", "in": "query", "schema": {"type": "string"}},
          {"name": "issued_from", "in": "query", "schema": {"type": "string"}},
          {"name": "issued_until", "in": "query", "schema": {"type": "string"}},
          {"name": "authorized_from", "in": "query", "schema": {"type": "string"}},
          {"name": "authorized_until", "in": "query", "schema": {"type": "string"}}
        ],
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    },
    "/": {
      "get": {
        "tags": ["root"],
        "summary": "Status",
        "security": [{"bearerAuth": []}],
        "responses": {"200": {"description": "OK"}}
      }
    }
  }
}
